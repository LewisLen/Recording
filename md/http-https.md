# HTTP和HTTPS的区别

## 地址栏上不一样

- HTTP协议地址栏上是`http://www.test.com`
- HTTPS协议地址栏上是`https://www.test.com`


## 安全及端口不一样

- HTTP未经安全加密，传输过程容易被攻击者监听、数据容易被窃取、发送发和接收方容易被伪造。默认端口为 80
- HTTPS是安全的协议，通过**密钥交换算法**、**签名算法**、**对称加密算法**、**摘要算法**解决安全问题。默认端口为 443


## get和post

- get一般用于请求，可以理解成pll操作。post一般用于表单提交，把信息提交给服务器，等待服务器作出响应，相当于push操作
- get方法是不安全的，参数会拼接在URL后面，从而导致容易被攻击者窃取。而post则是将册那参数放在请求体body中，对于用户来说是不可见的。
- get请求的URL有长度限制。post请求会把参数和值放在消息体中，对数据长度没有要求
- get请求会被浏览器主动cache。post不会，除非手动设置
- get请求在浏览器反复的 回退/前进 操作无影响。post操作则会再次提交表单请求。
- get请求在发送过程中会产生一个TCP数据包。post在发送过程中会产生两个TCP数据包。get请求，浏览器会把header和data一并发送出去，响应器响应200成功则会返回数据。post请求会先发送header，服务器响应100-continue协议，通过后，浏览器再发送data，响应200成功后返回数据。


## 无状态协议

所谓无状态协议，指的是浏览器对于事务的处理能力没有记忆功能。HTT是一种无状态协议，使用cookie机制，能够让浏览器有记忆能力。

当向浏览器发送请求时，服务端会给你发送一个认证信息，接收到请求时，创建Session对象，同时生成一个sessionId，并通过响应头的set-cookie：JSESSIONID=xxxxx，向客户端发送要求设置Cookie响应；客户端收到响应之后会在本机客户端设置一个JSESSIONID=xxxx的cookie信息，该Cookie的过期时间则浏览器会话结束。

接下来客户端每次向同一个网站发送请求时，请求头都会带上该cookie信息（包含sessionid），然后，服务器通过读取请求头中的cookie信息，JSESSIONID的值，得到此次请求的sessionId。这样，浏览器就具备了记忆能力。


## UDP和TCP的却别

TCP和UDP都位于计算机网络模型中的运输层，它们负责传输应用层的数据。

UDP：用户数据协议
TCP：传输控制协议

数据报时与分组交换网络关联的传输单元。

UDP的特点：

- 能够支持容忍数据包丢失的带宽密集型应用程序
- 具有低延迟特点
- 能够发送大量的数据包
- 能够允许 DNS 查找，DNS时建立在UDP之上的应用层协议


TCP的特点：

- 能够确保连接的建立和数据包的发送
- 支持错误重传机制
- 支持拥塞控制，能够在网络拥堵的情况下延迟发送
- 能够提供错误校验和甄别有害的数据包


## HTTP请求头

### 通用标头

主要有三个：`Date`、`Cache-Control`和`Connection`

Date请求标头和响应标头中，基本表为格林威治时间

```html
Date: Wed, 15 Jul 2020 07:23:18 GMT
```

Cache-Control 主要分类有：可缓存性、阈值性、重新验证并重新加载和其他特性

Connection决定当前事务（握手和挥手）完成后，是否会关闭网络连接。一种是**持久性连接**，即一次事务完成后不关闭网络连接。一种是**非持久性**，即一次事务完成后关闭网络连接。

- Connection: keep-alive 持久性连接
- Connection: close 非持久性连接

### 响应标头

- Access-Control-Allow-Origin 指定一个来源，告知浏览器是否允许该来源进行资源访问
- Keep-Alive 表示Connection非持续连接的存活时间，可以进行指定
- Server 服务器标头包含有关原始服务器用来处理请求的软件信息。应该避免使用过于冗长和详细的Server值，因为它们可能会泄露内部实施细节，这可能会使攻击者容易地发现并利用已知的安全漏洞
- Set-Cookie 用于服务器向客户端发送 sessionId
- Transfer-Encoding 规定了传输报文主体时采用的编码方式


## 地址栏输入URL

输入URL地址，会先查域名是否被本地DNS缓存，不同浏览器对DNS的设置不同，如果浏览器缓存了URL地址，则会直接返回ip。如果没有缓存URL地址，浏览器会发起系统调用查询本机host文件是否有配置ip地址，找到则返回，没有则向网络发起一个DNS查询。